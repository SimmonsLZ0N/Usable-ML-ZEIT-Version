<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usable Machine Learning</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='intro_ml.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='infobox/infobox.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='options/options.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='training/training.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='modelConfig.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='traintest/traintest.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='walkthrough/walkthrough.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='traintest/traintest.css') }}">


    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/socket.io/client-dist/socket.io.js"></script>
    <script src=" https://cdn.jsdelivr.net/npm/leader-line@1.0.7/leader-line.min.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.x"></script>

</head>
<body>
    <div id="section-indicators" class="section-indicators">
        <!-- Indicators will be added here dynamically -->
    </div>
    <div class = "infobox" id = "infobox">
        <div class= "infobox-header">
            <img class = "info-icon" src="../static/include/Images/info.png" alt="Information Box" width="50px">
            <h2> Info </h2>
            <button id = "hide" class="HideButton"> HIDE</button>
        </div>
        <p id="infotext" class = "infotext"></p>
    </div>

    <header class="header-background">
        <div class="container header-content">
            <h1>Cupcakes for Machine Learning</h1>
        </div>
        <button id = "skip_tut">Skip Tutorial</button>
    </header>

    <section id ="What is ML" class="ml-fullscreen">
        <div class="container">
            <div class="ml-text">
                <h2>Was ist Machine Learning?</h2>
                <p>
                    Machine Learning (ML) ist ein Teilbereich von Künstlicher Intelligenz, in dem Algorithmen automatisch lernen, in Daten Muster zu erkennen. Dazu gehören Applikationen wie Google Translate, Bildgeneratoren wie DALL-E oder Chatbots wie ChatGPT. Diese Applikation stellt das erste Problem der meisten ML-Vorlesungen vor: handgeschriebene Ziffern zu erkennen.  </p>
            </div>
        </div>
    </section>
    <main>
        <section id="Understanding CNNs" class="cnn-explanation">
            <div class="container cnn-container">
                <div class="cnn-text">
                    <h2>Erkennen mit Filtern</h2>
                    <p>
                        Um das Problem zu lösen, verwendet man ein Convolutional Neural Network (CNN), das sich Filter zunutze macht, um bestimmte Muster zu erkennen. 
                    </p>
                </div>
                <div class="gif-container">
                    <img id = "cnn-gif" src="{{ url_for('static', filename='include/cnngifs/cnnK6S2P1.gif') }}" alt="GIF showing the conversion of a MNIST Image to a feature map">
                </div>
            </div>
        </section>
        <section id="How CNNs work" class="gif-explanation">
            <div class="gifoptions-container">
                <div class = "slider-text"> 
                    <label for="KernelGifSlider">Kernel Size</label>
                    <div class= "sliderDisplay">
                        <input type="range" id="KernelGifSlider" min="1" max="3" value="{{ 2 }}">
                        <span style="margin-left: 5%;" id="KernelGifDisplay">6</span>
                    </div>
                </div>
                <div class = "slider-text"> 
                    <label for="StrideGifSlider">Stride</label>
                    <div class= "sliderDisplay">
                        <input type="range" id="StrideGifSlider" min="1" max="3" value="{{ 2 }}">
                        <span style="margin-left: 5%;" id="StrideGifDisplay">2</span>
                    </div>
                </div>
                <div class = "slider-text"> 
                    <label for="PaddingGifSlider">Padding</label>
                    <div class= "sliderDisplay">
                        <input type="range" id="PaddingGifSlider" min="0" max="2" value="{{ 1 }}">
                        <span style="margin-left: 5%;" id="PaddingGifDisplay">1</span>
                    </div>
                </div>
            </div>
            <div class="explanation-container">
                <p>Der rote Ausschnitt ist ein <strong> Filter</strong>, der über die Pixel und seinen umliegenden Nachbarn schreitet, dabei Merkmale wie Kanten oder Kreise erkennt und eine <strong> Merkmalskarte</strong> erstellt.
                    Ein Neural Network verwendet mehrere Filter für unterschiedliche Merkmale. Über die Merkmalskarten laufen daraufhin wieder Filter, sodass das Network zunehmend abstrake Muster erkennt. 
                    Hier kannst du entscheiden, wie groß der Filter sein soll, ob er dabei jeden Pixel betrachtet oder mal einen überspringt und ob am Rand noch mehr Pixel hinzugefügt werden, um Randpixel mehr zu berücksichtigen.     
                </p>
            </div>
        </section> 

        <section id ="Model Builder">

            <div class="container-model-builder">
                <div class="modelbuilder-text">
                    <h2 style="color: var(--text-color-playground);">Configure your own Model!</h2>
                </div>
                <div class = "speech_bubble" id = "modelbuilder_speech_bubble">
                    <p class = "walkthrough_text">Dies ist die modelbuilder_speech_bubble</p>
                    <button id = "next_button">next</button>
                </div>                
                <div class= "popup infobox" id = "modelPopup">
                    By changing the model, your Training progress is reset. You can return to Training and keep your Progress or continue to Model Configuration, while your Progress is discarded
                    <button id= "discardButton">Discard</button>
                    <button id= "returnButton">Return</button>
                </div>
                <div class= "container-blockVisualization" >
                    <div class= "container-MNIST">
                        <div class="MNIST" id="inputbox">
                            <h2> 
                                MNIST Dataset
                            </h2>
                            <img class = "MNIST_picture" src="../static/include/Images/UML_MNIST.png" alt="Visualization of handwritten digit from the MNIST set. Shown are 5 items per digit.">
                        </div>

                    </div>
                    <div class= "container-modelconfiguration" id = "rectanglelayer">
                        <div class="container-modelconfiguration-options">
                            <div class = "container-dropdown" id= "actFuncCol"> 
                                <div class="dropdown">
                                    <button id="actFunc" class="dropbtn" >
                                        <span id="act_Label">Activation function</span>
                                    </button>
                                    <div class="dropdown-content" id = "act_dropdown">
                                        <button href="#" class="act_Option" id="act_reluOption" value = "relu">Rectified Linear Activation (ReLU)</button>
                                        <button href="#" class="act_Option" id="act_sigmoidOption" value = "sigm">Logistics (Sigmoid)</button>
                                        <button href="#" class="act_Option" id="act_tanhOption" value = "tanh">Hyperbolic Tangent (tanh)</button>
                                    </div>
                                </div>
                            </div>
                            <div class = "container-slider" id= "KSizeCol">
                                    <label for="KSizeSlider">Kernel Complexity</label>
                                    <div class= "KSizeSliderDisplay">
                                        <input type="range" id="KSizeSlider" min="1" max="3" value="{{ 2 }}">
                                        <span style="margin-left: 5%;" id="KSizeDisplay">medium</span>
                                    </div>
                            </div>
                        </div>
                        <div class="container-blocks">
                            <div class = "blockcolumn">
                                <div id="block1"class = "BlockButton">
                                    <div class="block_info">
                                        <div class= "block_label"> 
                                            Convolutional Layer 
                                            <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                        </div>
                                        <div class= "block_label">
                                            Activation Function 
                                            <img src="../static/include/functionIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                        </div>
                                        <div class= "block_label"> 
                                            Max-Pooling Layer 
                                            <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                        </div>                                    
                                    </div>
                                </div>
                                <button id="Add_block1", class="AddButton"> + </button>
                                <div class="interception"></div>
                                <button id="Minus_block1" class="MinusButton"> - </button>
                            </div>
                            <div class = "blockcolumn">
                                <div id="block2"class = "BlockButton">
                                    <div class="block_info">
                                        <div class= "block_label"> 
                                            Convolutional Layer 
                                            <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                        </div>
                                        <div class= "block_label">
                                            Activation Function 
                                            <img src="../static/include/functionIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                        </div>
                                        <div class= "block_label"> 
                                            Max-Pooling Layer 
                                            <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                        </div>                                    
                                    </div>
                                </div>
                                <button id="Add_block2" class="AddButton"> + </button>
                                <div class="interception"></div>
                                <button id="Minus_block2" class="MinusButton"> - </button>
                            </div>
                            <div class = "blockcolumn">
                                <div id="block3"class = "BlockButton">
                                    <div class="block_info">
                                        <div class= "block_label"> 
                                            Convolutional Layer 
                                            <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                        </div>
                                        <div class= "block_label">
                                            Activation Function 
                                            <img src="../static/include/functionIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                        </div>
                                        <div class= "block_label"> 
                                            Max-Pooling Layer 
                                            <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                        </div>                                    
                                    </div>
                                </div>
                                
                                <button id="Add_block3" class="AddButton"> + </button>
                                <div class="interception"></div>
                                <button id="Minus_block3" class="MinusButton"> - </button>
                            </div>
                        </div>
                    </div>
                    <div class= "container-classification" id= "outputbox" >
                        <div class="LinearLayer_Header" >
                            <h2> Linear Layer </h2> <h2> Output</h2>
                        </div>
                        <div class = "staticClassifier">
                            <div class="linear_layer">
                            </div>
                            <div class="classes-column">
                                <div class="class"> 0
                                </div>
                                <div class="class"> 1
                                </div>
                                <div class="class"> 2
                                </div>
                                <div class="class"> 3
                                </div>
                                <div class="class"> 4
                                </div>
                                <div class="class"> 5
                                </div>                
                                <div class="class"> 6
                                </div>
                                <div class="class"> 7
                                </div>
                                <div class="class"> 8
                                </div>
                                <div class="class"> 9
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id = "Train & Test" class="model-builder">
            <div class = "speech_bubble" id = "training_speech_bubble">
                <p class = "walkthrough_text">Dies ist die training_speech_bubble</p>
            </div>
            <div class = "speech_bubble" id = "testing_speech_bubble">
                <p class = "walkthrough_text">Dies ist die testing_speech_bubble</p>
                <button id = 'testing_next_button'>Tutorial accomplished</button>
            </div>
            <div class = "speech_bubble" id = "training_graph_speech_bubble">
                <p class = "walkthrough_text">Dies ist die training_graph_speech_bubble</p>
                <button id = "graph_next_button">next</button>
            </div>
            <div class="modelbuilder-text">
            <h2 style= 'color: var(--text-color-playground); display: flex; align-items: center; justify-content: center;'> Training and Testing the Model</h2>            
            </div>
            
                <div class="training-container">
                    <div class="parameter-control-progressbar" id = training_params>
                        <div class="parameter-control-container">
                            <div class="parameters-container">
                                <div class="LearningRate">
                                    <div class = "slider-text" id= "LRateCol">
                                        <label for="LRateSlider"> Learning Rate</label>
                                        <div class= "sliderDisplay">
                                            <input type="range" id="LRateSlider" min="1" max="4" value="{{ 2 }}">
                                            <span style="margin-left: 5%;" id="LRateDisplay"></span>
                                        </div>
                                </div>
                                </div> 
                                <div class="BatchSize">
                                    <div class="slider-text" id= "BSizeCol">
                                        <label for="BSizeSlider">Batch Size</label>
                                        <div class= "sliderDisplay">
                                            <input type="range" id="BSizeSlider" min="1" max="256" value="{{ 32 }}">
                                            <span style="margin-left: 5%;" id="BSizeDisplay"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="Epochs">
                                    <div class = "slider-text" id= "EpochsCol"> 
                                        <label for="NEpochsSlider">Epochs</label>
                                        <div class= "sliderDisplay">
                                            <input type="range" id="NEpochsSlider" min="1" max="10" value="{{ 4 }}">
                                            <span style="margin-left: 5%;" id="NEpochsDisplay"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="control-container">
                                <div class="training-text">
                                    <h2>Training</h2>
                                </div>
                                <div class="start">
                                    <button id = "starttraining" name="starttraining" class= "startbutton"> START </button>

                                </div>
                                <div class="reset">
                                    <button disabled id = "resettraining" name="restarttraining" class="startbutton"> RESET </button>
                                </div>
                                <div class="progress-container">
                                    <p id="trainingdisplay"> </p>
                                </div>
                            </div>

                        </div>
                        <div class="progressbar-container" id="progressbar">
                            <div class="progress" id="progress" ></div>
                        </div>
                    </div>

                    <div class="graph-container", id = "training_graph">
                        <canvas id="myChart"> GO </canvas>
                    </div>
                    

                </div>
                
                <div class="testing-container" id = "testing_section">
                    
                    <div class="canvas-container">
                        <div class="canvas-box">
                            <canvas id="canvas" class = "inputCanvas"></canvas>
                        </div>
                            <div class = "controls_column">
                                <button id ="reset" class = "resetButton" aria-label="Reset" style="margin-bottom : -50px; margin-left: 50px">
                                    <!-- SVG für das Reset-Symbol -->
                                    <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 40 40">
                                        <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2z"/>
                                        <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466"/>
                                    </svg>
                                </button>
                                <button id = "classify" class = "resetButton" aria-label="classify" style = "margin-bottom : -60px">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" class="bi bi-play" viewBox="0 0 40 40">
                                        <path d="M10.804 8 5 4.633v6.734zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696z"/>
                                    </svg>
                                </button>
                            </div>
                        
                    </div>
                    <div class="magic-container">

                    </div>
                    <div class="classification-container">
                        <div class="training-text">
                            <p> Classification </p>
                        </div>
                        <div class="classifier_class"> 0
                        </div>
                        <div class="classifier_class"> 1
                        </div>
                        <div class="classifier_class"> 2
                        </div>
                        <div class="classifier_class"> 3
                        </div>
                        <div class="classifier_class"> 4
                        </div>
                        <div class="classifier_class"> 5
                        </div>                
                        <div class="classifier_class"> 6
                        </div>
                        <div class="classifier_class"> 7
                        </div>
                        <div class="classifier_class"> 8
                        </div>
                        <div class="classifier_class"> 9
                        </div>

                    </div>
                </div>

            

            </div>
        </section>

    </main>
    <footer>
        <div class="container">
            <!-- Footer content -->
        </div>
    </footer>

    <script src="{{ url_for('static', filename='blocks/blocks.js') }}"></script>
    <script src="{{ url_for('static', filename='infobox/infobox.js') }}"></script>
    <script src="{{ url_for('static', filename='options/options.js') }}"></script>
    <script src="{{ url_for('static', filename='test.js') }}"></script>
    <script src="{{ url_for('static', filename='training/training.js') }}"></script>
    <script src="{{ url_for('static', filename='scroll-animation.js') }}"></script>
    <script src="{{ url_for('static', filename='walkthrough/walkthrough.js') }}"></script>
    <script src="{{ url_for('static', filename='gifOptions.js') }}"></script>



</body>
</html>
