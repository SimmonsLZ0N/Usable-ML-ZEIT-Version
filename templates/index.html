<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usable Machine Learning</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='infobox/infobox.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='options/options.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='training/training.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='modelConfig.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='traintest/traintest.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='walkthrough/walkthrough.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='traintest/traintest.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='leaderboard/leaderboard.css') }}">


    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/socket.io/client-dist/socket.io.js"></script>
    <script src=" https://cdn.jsdelivr.net/npm/leader-line@1.0.7/leader-line.min.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.x"></script>

</head>
<body>
    <div id="section-indicators" class="section-indicators">
        <!-- Indicators will be added here dynamically -->
    </div>
    <div class = "infobox" id = "infobox">
        <div class= "infobox-header">
            <img class = "info-icon" src="../static/include/Images/info.png" alt="Information Box" width="50px">
            <h2> Info </h2>
            <button id = "hide" class="HideButton"> HIDE</button>
        </div>
        <p id="infotext" class = "infotext"></p>
    </div>

    <header class="header-background">
        <div class="container header-content">
            <h1>Einführung in Machine Learning</h1>
        </div>
        <button id = "skip_tut">Skip Tutorial</button>
    </header>

    <section id ="What is ML" class="ml-fullscreen">
        <div class="container">
            <div class="ml-text">
                <h2>Was ist Machine Learning?</h2>
                <p>
                    Machine Learning (ML) ist ein Teilbereich von Künstlicher Intelligenz, in dem Algorithmen automatisch lernen, in Daten Muster zu erkennen. Dazu gehören Applikationen wie Google Translate, Bildgeneratoren wie DALL-E oder Chatbots wie ChatGPT. Diese Applikation stellt die erste Aufgabe der meisten ML-Vorlesungen vor: handgeschriebene Ziffern zu erkennen.  </p>
            </div>
        </div>
    </section>
    <main>
        <section id="Understanding CNNs" class="cnn-explanation">
            <div class="container cnn-container">
                <div class="cnn-text">
                    <h2>Erkennen mit Filtern</h2>
                    <p>
                        Um das Problem zu lösen, verwendet man ein Convolutional Neural Network (CNN), das sich Filter zunutze macht, um bestimmte Muster zu erkennen. 
                    </p>
                </div>
                <div class="gif-container">
                    <img id = "cnn-gif" src="{{ url_for('static', filename='include/cnngifs/cnnK6S2P1.gif') }}" alt="GIF showing the conversion of a MNIST Image to a feature map">
                </div>
            </div>
        </section>
        <section id="How CNNs work" class="gif-explanation">
            <div class="gifoptions-container">
                <div class = "slider-text"> 
                    <label for="KernelGifSlider">Filtergröße</label>
                    <div class= "sliderDisplay">
                        <input type="range" id="KernelGifSlider" min="1" max="3" value="{{ 2 }}">
                        <span style="margin-left: 5%;" id="KernelGifDisplay">6</span>
                    </div>
                </div>
                <div class = "slider-text"> 
                    <label for="StrideGifSlider">Schrittweite</label>
                    <div class= "sliderDisplay">
                        <input type="range" id="StrideGifSlider" min="1" max="3" value="{{ 2 }}">
                        <span style="margin-left: 5%;" id="StrideGifDisplay">2</span>
                    </div>
                </div>
                <div class = "slider-text"> 
                    <label for="PaddingGifSlider">Polsterung</label>
                    <div class= "sliderDisplay">
                        <input type="range" id="PaddingGifSlider" min="0" max="2" value="{{ 1 }}">
                        <span style="margin-left: 5%;" id="PaddingGifDisplay">1</span>
                    </div>
                </div>
            </div>
            <div class="explanation-container">
                <p>Der rote Ausschnitt ist ein <strong> Filter</strong>, der über die Pixel eines Bildes und seinen umliegenden Nachbarn schreitet, dabei Merkmale wie Kanten oder Kreise erkennt und eine <strong> Merkmalskarte</strong> erstellt.
                    Mit diesen Merkmalskarten passiert wiederum dasselbe, sodass das Netz zunehmend abstrake Muster erkennt. 
                    Hier kannst du über die Größe des Filters entscheiden, wie weit er voranschreitet und ob am Rand Pixel hinzugefügt werden, um Randpixel mehr zu berücksichtigen.     
                </p>
            </div>
        </section> x


        <section id="Wie lernt ein Modell?" class="optimization-explanation">
            <h2> Was bedeutet "Lernen" in Machine Learning?</h2>
            <div class="container">
                <img src="{{ url_for('static', filename='include/CNN Deutsch.png') }}" alt="Optimization Visualization" class="optimization-image">
                <p>
                    Mit Lernen ist in ML die Optimierung gemeint. Für dieses Beispiel bedeutet das, die richtigen Filter zu erstellen sowie herauszufinden, welche Merkmale am wichtigsten für die Klassifizierung sind. Zu Beginn sind diese Einstellungen noch zufällig, während des Trainingsprozesses werden sie dann angepasst.
            </div>
        </section>

        <section id ="Model Builder">

            <div class="container-model-builder">
                <div class="modelbuilder-text">
                    <h2 style="color: var(--text-color-playground);">Stell dein eigenes neuronales Netz zusammen</h2>
                </div>
                <div class = "speech_bubble infobox" id = "modelbuilder_speech_bubble">
                    <p class = "walkthrough_text">Dies ist die modelbuilder_speech_bubble</p>
                    <button id = "next_button">weiter</button>
                </div>                
                <div class= "popup infobox" id = "modelPopup">
                    Wenn du das Modell änderst, setzt sich dein Trainingsfortschritt zurück. Du kannst zum Training zurückkehren und deine Fortschritte beibehalten oder ein neues Netz aufsetzen.
                    <button id= "discardButton">Modell löschen</button>
                    <button id= "returnButton">Zurück zum Testen</button>
                </div>
                <div class= "container-blockVisualization" >
                    <div class= "container-MNIST">
                        <div class="MNIST" id="inputbox">
                            <label for="inputbox">MNIST Dataset </label>
                            <img class = "MNIST_picture" src="../static/include/Images/UML_MNIST.png" alt="Visualization of handwritten digit from the MNIST set. Shown are 5 items per digit.">
                        </div>
                    </div>
                    <div class="arrows-container">
                        <span style="font-size: 5vh; color: rgba(255, 255, 255, 1);">&#8594;</span>
                        <span style="font-size: 5vh; color:  #3498db;">&#8594;</span> 
                        <span style="font-size: 5vh; color: rgba(255, 255, 255, 1);">&#8594;</span>
                        <span style="font-size: 5vh; color:  #3498db;">&#8594;</span> 
                        <span style="font-size: 5vh; color: rgba(255, 255, 255, 1);">&#8594;</span>
                        <span style="font-size: 5vh; color:  #3498db;">&#8594;</span> 
                        <span style="font-size: 5vh; color: rgba(255, 255, 255, 1);">&#8594;</span>
                    </div>
                    <div class= "container-modelconfiguration" id = "rectanglelayer">
                        <h3> Merkmalserkennung </h3>
                        <div class="container-modelconfiguration-options">
                            <div class = "container-dropdown" id= "actFuncCol"> 
                                <div class="dropdown">
                                    <button id="actFunc" class="dropbtn" >
                                        <label for="actFunc"> Aktivierungsfunktion </label>
                                        <span id="act_Label"></span>

                                    </button>
                                    <div class="dropdown-content" id = "act_dropdown">
                                        <button href="#" class="act_Option" id="act_reluOption" value = "relu">Rectified Linear Unit (ReLU)</button>
                                        <button href="#" class="act_Option" id="act_sigmoidOption" value = "sigm">Sigmoid-Funktion</button>
                                        <button href="#" class="act_Option" id="act_tanhOption" value = "tanh">Hyperbolische Tangente (tanh)</button>
                                    </div>
                                </div>
                            </div>
                            <div class = "container-slider" id= "KSizeCol">
                                    <label for="KSizeSlider">Filtergröße</label>
                                    <div class= "KSizeSliderDisplay">
                                        <input type="range" id="KSizeSlider" min="1" max="3" value="{{ 2 }}">
                                        <span style="margin-left: 5%;" id="KSizeDisplay">medium</span>
                                    </div>
                            </div>
                        </div>
                        <div class="container-blocks">
                            <div class = "blockcolumn">
                                <div id="block1"class = "BlockButton">
                                    <h2> Block 1 </h2>
                                    <div class="block_info">
                                        <div id="ConvInfo1" class= "block_label">
                                            Filternde Schicht
                                            <label for="ConvInfo1"> 
                                                <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                            </label>
                                        </div>    
                                        <div id="ActFuncInfo1" class= "block_label">
                                            Aktivierungs-funktion 
                                            <label for="ActFuncInfo1"> 
                                                <img src="../static/include/functionIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                            </label>
                                        </div>
                                        <div id="MaxPoolInfo1" class= "block_label">
                                            Pooling Schicht
                                            <label for="MaxPoolInfo1"> 
                                                <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                            </label>
                                        </div>                                  
                                    </div>
                                </div>
                                <button id="Add_block1", class="AddButton"> + </button>
                                <button id="Minus_block1" class="MinusButton"> - </button>
                            </div>
                            <div class = "blockcolumn">
                                <div id="block2"class = "BlockButton">
                                    <h2> Block 2 </h2>
                                    <div class="block_info">
                                        <div id="ConvInfo2" class= "block_label">
                                            Filternde Schicht
                                            <label for="ConvInfo2"> 
                                                <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                            </label>
                                        </div>    
                                        <div id="ActFuncInfo2" class= "block_label">
                                            Aktivierungs-funktion 
                                            <label for="ActFuncInfo2"> 
                                                <img src="../static/include/functionIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                            </label>
                                        </div>
                                        <div id="MaxPoolInfo2" class= "block_label">
                                            Pooling Schicht
                                            <label for="MaxPoolInfo2"> 
                                                <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                            </label>
                                        </div>                                  
                                    </div>
                                </div>
                                <button id="Add_block2" class="AddButton"> + </button>
                                <button id="Minus_block2" class="MinusButton"> - </button>
                            </div>
                            <div class = "blockcolumn">
                                <div id="block3" class = "BlockButton">
                                    <h2> Block 3 </h2>
                                    <div class="block_info">
                                        <div id="ConvInfo3" class= "block_label">
                                            Filternde Schicht
                                            <label for="ConvInfo3"> 
                                                <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                            </label>
                                        </div>    
                                        <div id="ActFuncInfo3" class= "block_label">
                                            Aktivierungs-funktion 
                                            <label for="ActFuncInfo3"> 
                                                <img src="../static/include/functionIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                            </label>
                                        </div>
                                        <div id="MaxPoolInfo3" class= "block_label">
                                            Pooling Schicht
                                            <label for="MaxPoolInfo3"> 
                                                <img src="../static/include/KernelIcon.png" class="block-icon" alt="Activation Function 2D Diagram">
                                            </label>
                                        </div>                                  
                                    </div>
                                </div>
                                
                                <button id="Add_block3" class="AddButton"> + </button>
                                <button id="Minus_block3" class="MinusButton"> - </button>
                            </div>
                        </div>
                    </div>
                    <div class="arrows-container">
                        <span style="font-size: 5vh; color: rgba(255, 255, 255, 1);">&#8594;</span>
                        <span style="font-size: 5vh; color:  #3498db;">&#8594;</span> 
                        <span style="font-size: 5vh; color: rgba(255, 255, 255, 1);">&#8594;</span>
                        <span style="font-size: 5vh; color:  #3498db;">&#8594;</span> 
                        <span style="font-size: 5vh; color: rgba(255, 255, 255, 1);">&#8594;</span>
                        <span style="font-size: 5vh; color:  #3498db;">&#8594;</span> 
                        <span style="font-size: 5vh; color: rgba(255, 255, 255, 1);">&#8594;</span>
                    </div>
                    <div class= "container-classification" id= "outputbox" >
                        <h3>Klassifizierung</h3>
                        <label for="outputbox" class="LinearLayer_Header" >
                            <h2> Linear Layer </h2> <h2> Output</h2>
                        </label>
                        <div class = "staticClassifier">
                            <div class="linear_layer">
                            </div>
                            <div class="classes-column">
                                <div class="class"> 0
                                </div>
                                <div class="class"> 1
                                </div>
                                <div class="class"> 2
                                </div>
                                <div class="class"> 3
                                </div>
                                <div class="class"> 4
                                </div>
                                <div class="class"> 5
                                </div>                
                                <div class="class"> 6
                                </div>
                                <div class="class"> 7
                                </div>
                                <div class="class"> 8
                                </div>
                                <div class="class"> 9
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id = "Train & Test" class="model-builder">
            <div class = "speech_bubble infobox" id = "training_speech_bubble">
                <p class = "walkthrough_text">Dies ist die training_speech_bubble</p>
            </div>
            <div class = "speech_bubble infobox" id = "testing_speech_bubble">
                <p class = "walkthrough_text">Dies ist die testing_speech_bubble</p>
                <button id = 'testing_next_button'>Tutorial beenden</button>
            </div>
            <div class = "speech_bubble infobox" id = "training_graph_speech_bubble">
                <p class = "walkthrough_text">Dies ist die training_graph_speech_bubble</p>
                <button id = "graph_next_button">weiter</button>
            </div>
            <div class="modelbuilder-text">
            <h2 style= 'color: var(--text-color-playground); display: flex; align-items: center; justify-content: center;'> Netz trainieren und testen</h2>            
            </div>

                <div class="training-container">
                    <div class="parameter-control-progressbar" id = training_params>
                        <div class="parameter-control-container">
                            <div class="parameters-container" id = training_sliders>
                                <div class="LearningRate">
                                    <div class = "slider-text" id= "LRateCol">
                                        <label for="LRateSlider"> Lernrate</label>
                                        <div class= "sliderDisplay">
                                            <input type="range" id="LRateSlider" min="1" max="4" value="{{ 2 }}">
                                            <span style="margin-left: 5%;" id="LRateDisplay"></span>
                                        </div>
                                </div>
                                </div> 
                                <div class="BatchSize">
                                    <div class="slider-text" id= "BSizeCol">
                                        <label for="BSizeSlider">Trainingseinheiten</label>
                                        <div class= "sliderDisplay">
                                            <input type="range" id="BSizeSlider" min="1" max="256" value="{{ 32 }}">
                                            <span style="margin-left: 5%;" id="BSizeDisplay"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="Epochs">
                                    <div class = "slider-text" id= "NEpochsCol"> 
                                        <label for="NEpochsSlider">Epochen</label>
                                        <div class= "sliderDisplay">
                                            <input type="range" id="NEpochsSlider" min="1" max="10" value="{{ 4 }}">
                                            <span style="margin-left: 5%;" id="NEpochsDisplay"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="control-container">
                                <div class="training-text">
                                    <h2>Training</h2>
                                </div>
                                <div class="start">
                                    <button id = "starttraining" name="starttraining" class= "startbutton"> START </button>
                                </div>
                                <div class="reset">
                                    <button disabled id = "resettraining" name="restarttraining" class="startbutton"> RESET </button>
                                </div>
                                <div class="progress-container">
                                    <p id="trainingdisplay"> </p>
                                </div>
                            </div>

                        </div>
                        <div class="progressbar-container" id="progressbar">
                            <div class="progress" id="progress" ></div>
                        </div>
                    </div>

                    <div class="graph-container", id = "training_graph">
                        <canvas id="myChart"> GO </canvas>
                    </div>
                    

                </div>
                
                <div class="testing-container" id = "testing_section">
                    
                    <div class="magic-container">
                        <h2> Leaderboard </h2>
                        <div class = "leaderboard-header">
                            <p>Rank</p><p>Accuracy/Loss</p><div class = "leaderboard-cols"><p>Blocks</p><p>Kernels</p><p>Act. Func.</p><p>Epochs</p></div>
                        </div>
                        <div id="leaderboard" class = "list-container">
                            <p class = "leaderboard-entry"></p>
                            <p class = "leaderboard-entry"></p>
                            <p class = "leaderboard-entry"></p>
                            <p class = "leaderboard-entry"></p>
                            <p class = "leaderboard-entry"></p>
                        </div>

                        <div class = "current-container">
                            <p class = "current-entry"></p>
                        </div>
                    </div>

                    <div class="canvas-container">
                        <div class="canvas-box">
                            <canvas id="canvas" class = "inputCanvas blurred-section"></canvas>
                        </div>

                        <div class = "controls_column">
                            <button disabled id ="reset" class = "resetButton" aria-label="Reset" style="margin-bottom : -50px; margin-left: 50px">
                                <!-- SVG für das Reset-Symbol -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 40 40">
                                    <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2z"/>
                                    <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466"/>
                                </svg>
                            </button>
                            <button disabled id = "classify" class = "resetButton" aria-label="classify" style = "margin-bottom : -60px">
                                <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" class="bi bi-play" viewBox="0 0 40 40">
                                    <path d="M10.804 8 5 4.633v6.734zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696z"/>
                                </svg>
                            </button>
                        </div>
                        
                    </div>

                    <div class="classification-container">
                            <p style="color: var(--text-color-playground); font-size: 2vw; text-align: center;"> Classification </p>
                            <div class="classification-numbers-container">
                                <div class="classification-numbers">
                                    <div class="classifier_class"> <p name="value">0</p> <div class = "percentage-bar"></div> <p class = "percentage"></p>
                                    </div>
                                    <div class="classifier_class"> <p name="value">1</p> <div class = "percentage-bar"></div> <p class = "percentage"></p>
                                    </div>
                                    <div class="classifier_class"> <p name="value">2</p> <div class = "percentage-bar"></div> <p class = "percentage"></p>
                                    </div>
                                    <div class="classifier_class"> <p name="value">3</p> <div class = "percentage-bar"></div> <p class = "percentage"></p>
                                    </div>
                                    <div class="classifier_class"> <p name="value">4</p> <div class = "percentage-bar"></div> <p class = "percentage"></p>
                                    </div>
                                </div>
                                <div class="classification-numbers">                              
                                    <div class="classifier_class"> <p name="value">5</p> <div class = "percentage-bar"></div> <p class = "percentage"></p>
                                    </div>
                                    <div class="classifier_class"> <p name="value">6</p> <div class = "percentage-bar"></div> <p class = "percentage"></p>
                                    </div>                
                                    <div class="classifier_class"> <p name="value">7</p> <div class = "percentage-bar"></div> <p class = "percentage"></p>
                                    </div>
                                    <div class="classifier_class"> <p name="value">8</p> <div class = "percentage-bar"></div> <p class = "percentage"></p>
                                    </div>
                                    <div class="classifier_class"> <p name="value">9</p> <div class = "percentage-bar"></div> <p class = "percentage"></p>
                                    </div>
                                </div>
                            </div>
                    </div>
                </div>
        </section>

    </main>
    <footer>
        <div class="container">
            <!-- Footer content -->
        </div>
    </footer>

    <script src="{{ url_for('static', filename='blocks/blocks.js') }}"></script>
    <script src="{{ url_for('static', filename='infobox/infobox.js') }}"></script>
    <script src="{{ url_for('static', filename='options/options.js') }}"></script>
    <script src="{{ url_for('static', filename='test.js') }}"></script>
    <script src="{{ url_for('static', filename='training/training.js') }}"></script>
    <script src="{{ url_for('static', filename='scroll-animation.js') }}"></script>
    <script src="{{ url_for('static', filename='walkthrough/walkthrough.js') }}"></script>
    <script src="{{ url_for('static', filename='gifOptions.js') }}"></script>
    <script src="{{ url_for('static', filename='leaderboard/leaderboard.js') }}"></script>



</body>
</html>
